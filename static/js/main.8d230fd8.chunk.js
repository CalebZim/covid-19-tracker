(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a(15)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(6),l=a.n(o),r=(a(12),a(1)),s=a(2),i=a(3),u=a(4),d=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={isExpanded:!1},n}return Object(s.a)(a,[{key:"handleToggle",value:function(e){e.preventDefault(),this.setState({isExpanded:!this.state.isExpanded,height:this.refs.inner.clientHeight})}},{key:"render",value:function(){var e=this.props,t=e.title,a=e.total,n=e.NewCases,o=e.code,l=e.TotalRecovered,r=e.date,s=e.deaths;return c.a.createElement("article",{class:"bg-white br3 pa3 pa4-ns mv3 ba b--black-10 fl w-25 pa2 card grow"},c.a.createElement("div",{class:"tc"},c.a.createElement("img",{src:"https://www.countryflags.io/".concat(o,"/flat/64.png"),class:"br-100 h3 w3 dib ba b--black-05 pa2",title:"".concat(t,"'s flag"),alt:"".concat(t,"'s flag")}),c.a.createElement("h1",{class:"f4"},t),c.a.createElement("hr",{class:"mw3 bb bw1 b--black-10"})),c.a.createElement("p",{class:"lh-copy measure center tc f6 black-70"},"Total Confirmed ".concat(a),c.a.createElement("br",null),"New Cases Confirmed: ".concat(n),c.a.createElement("br",null),"Total Deaths: ".concat(s),c.a.createElement("br",null),"Total Recovered: ".concat(l),c.a.createElement("br",null),"Last Updated: ".concat(r)))}}]),a}(c.a.Component),m=(a(13),a(14),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={isLoading:!0,contacts:[]},n}return Object(s.a)(a,[{key:"componentWillMount",value:function(){localStorage.getItem("contacts")&&this.setState({contacts:JSON.parse(localStorage.getItem("contacts")),isLoading:!1})}},{key:"componentDidMount",value:function(){var e=localStorage.getItem("contactsDate"),t=e&&new Date(parseInt(e)),a=new Date,n=Math.round((a-t)/6e4);n>=1?this.fetchData():console.log("Using data from localStorage that are ".concat(n," minutes old."))}},{key:"fetchData",value:function(){var e=this;this.setState({isLoading:!0,contacts:[]}),fetch("https://api.covid19api.com/summary").then((function(e){return e.json()})).then((function(e){return e.Countries.map((function(e){return{name:"".concat(e.Country),totalCases:"".concat(e.TotalConfirmed),NewConfirmed:"".concat(e.NewConfirmed),code:"".concat(e.CountryCode),TotalRecovered:"".concat(e.TotalRecovered),date:"".concat(e.Date),deaths:"".concat(e.TotalDeaths)}}))})).then((function(t){return e.setState({contacts:t,isLoading:!1})})).catch((function(e){return console.log("parsing failed",e)}))}},{key:"componentWillUpdate",value:function(e,t){localStorage.setItem("contacts",JSON.stringify(t.contacts)),localStorage.setItem("contactsDate",Date.now())}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,n=t.contacts;return c.a.createElement("div",null,c.a.createElement("header",null,c.a.createElement("h1",null,"Covid 19 Tracker ",c.a.createElement("br",null)," ",c.a.createElement("br",null),c.a.createElement("button",{className:"button",onClick:function(t){e.fetchData()}},"Refresh"))),c.a.createElement("div",{className:"content ".concat(a?"is-loading":"")},c.a.createElement("div",{className:"panel-group"},!a&&n.length>0?n.map((function(e){var t=e.name,a=e.totalCases,n=e.NewConfirmed,o=e.code,l=e.TotalRecovered,r=e.date,s=e.deaths;return c.a.createElement(d,{deaths:s,title:t,total:a,NewCases:n,code:o,TotalRecovered:l,date:r})})):null),c.a.createElement("div",{className:"loader"},c.a.createElement("div",{className:"icon"}))))}}]),a}(c.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(m,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.8d230fd8.chunk.js.map